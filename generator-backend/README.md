# 云平台开发

在线平台需要支持用具在线搜索、使用、制作和分享各类代码生成器，帮助开发者提高定制化开发效率

1. **数据**线上化
   1. 元信息，即把元信息配置保存到数据库中
   1. 项目模板，即把静态文件和 FTL 模板文件存储到服务器中
   1. 代码生成器，即把代码生成器**产物包**存储到服务器中

1. **功能**线上化
   1. 在线查看生成器的信息
   1. 在线**使用**生成器
   1. 在线**制作**生成器




# 生成器在线使用

1. 用户登录云平台后，打开某个生成器的详情页面 点击在线使用生成器
2. 跳转到填写表单参数页面 请求后端
3. 后端从数据库中查询生成器信息 获取到代码生成器的制作工具的产物包的路径
4. 后端从对象存储下载产物包到本地解压 
5. 后端操作解压后的文件夹 通过用户的参数以及制作工具的脚本文件 得到生成的最终代码
6. 后端将代码返回给用户下载
7. 清除下载的资源 防止磁盘满溢



# 生成器在线制作

在线使用制作工具，通过输入制作信息、上传模板文件，就能得到制作好的生成器

1. 用户打开生成器制作工具表单，上传生成器信息和模型文件
2. 后端下载模型文件到本地
3. 构造生成器需要的元信息对象，并指定输出路径
4. 后端调用maker制作工具，输入上述参数，得到代码生成器
5. 后端将代码生成器返回给用户，前端下载



处理资源路径问题：

之前的maker项目中resource下的ftl模板文件都是通过路径读取的，然而项目被制作为jar包引入后，无法再通过文件路径获取模板文件。

解决方案：不再通过路径获取资源，而是通过类加载器根据资源相对路径获取资源
